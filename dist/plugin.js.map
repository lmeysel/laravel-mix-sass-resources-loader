{"version":3,"sources":["../src/plugin.js"],"names":[],"mappings":";;;;;;AAAA,IAAM,MAAM,QAAQ,aAAR,CAAZ;;AAEA,IAAM,MAAM;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,6BACO;AAAA;;AACjB,OAAI,CAAC,KAAK,SAAV,EAAqB,KAAK,SAAL,GAAiB,EAAjB;;AADJ,qCAAN,IAAM;AAAN,QAAM;AAAA;;AAEjB,QAAK,OAAL,CAAa;AAAA,WAAK,aAAa,KAAb,GAAqB,MAAK,SAAL,CAAe,IAAf,CAAoB,KAApB,CAA0B,MAAK,SAA/B,EAA0C,CAA1C,CAArB,GAAoE,MAAK,SAAL,CAAe,IAAf,CAAoB,CAApB,CAAzE;AAAA,IAAb;AACA;AAJU;AAAA;AAAA,iCAKI;AAAE,UAAO,CAAC,uBAAD,CAAP;AAAkC;AALxC;AAAA;AAAA,gCAOG,MAPH,EAOW;AACrB,OAAM,QAAQ,OAAO,MAAP,CAAc,KAAd,CAAoB,MAApB,CAA2B;AAAA,WACtC,KAAK,IAAL,YAAqB,MAAtB,IAAiC,KAAK,IAAL,CAAU,IAAV,CAAe,WAAf,CAAlC,IACI,OAAQ,KAAK,IAAb,KAAuB,QAAvB,IAAmC,aAAa,IAAb,CAAkB,KAAK,IAAvB,CAFC;AAAA,IAA3B,CAAd;;AAIA,OAAM,MAAM,EAAE,QAAQ,uBAAV,EAAmC,SAAS,EAAE,WAAW,KAAK,SAAlB,EAA5C,EAAZ;AACA,SAAM,OAAN,CAAc,gBAAQ;AACrB,QAAI,KAAK,OAAT,EAAkB;AACjB,UAAK,GAAL,GAAW,KAAK,OAAL,CAAa,GAAb,CAAiB;AAAA,aAAW,EAAE,cAAF,EAAX;AAAA,MAAjB,CAAX;AACA,YAAO,KAAK,OAAZ;AACA;AACD,SAAK,GAAL,CAAS,IAAT,CAAc,GAAd;AACA,IAND;;AASA,OAAM,OAAO,OAAO,MAAP,CAAc,KAAd,CAAoB,IAApB,CAAyB;AAAA,WAAS,KAAK,IAAL,YAAqB,MAArB,IAA+B,KAAK,IAAL,CAAU,IAAV,CAAe,UAAf,CAAxC;AAAA,IAAzB,CAAb;AACA,IAAC,MAAD,EAAS,MAAT,EAAiB,OAAjB,CAAyB,cAAM;AAC9B,QAAI,CAAC,KAAK,OAAL,CAAa,OAAb,CAAqB,EAArB,CAAL,EACC,KAAK,OAAL,CAAa,OAAb,CAAqB,EAArB,IAA2B,CAAC,cAAD,EAAiB,YAAjB,EAA+B,aAA/B,EAA8C,GAA9C,CAA3B,CADD,KAEK,KAAK,OAAL,CAAa,OAAb,CAAqB,EAArB,EAAyB,IAAzB,CAA8B,GAA9B;AACL,IAJD;AAKA;AA5BU;;AAAA;AAAA,MAAZ;;AA+BA,IAAI,MAAJ,CAAW,eAAX,EAA4B,GAA5B","file":"plugin.js","sourcesContent":["const mix = require('laravel-mix');\n\nconst ext = new class {\n\tregister(...args) {\n\t\tif (!this.resources) this.resources = [];\n\t\targs.forEach(a => a instanceof Array ? this.resources.push.apply(this.resources, a) : this.resources.push(a));\n\t}\n\tdependencies() { return ['sass-resources-loader'] }\n\n\twebpackConfig(config) {\n\t\tconst rules = config.module.rules.filter(rule =>\n\t\t\t((rule.test instanceof RegExp) && rule.test.test('asdf.scss'))\n\t\t\t|| (typeof (rule.test) === 'string' && /\\.s[ac]ss$/.test(rule.test)));\n\n\t\tconst ldr = { loader: 'sass-resources-loader', options: { resources: this.resources } };\n\t\trules.forEach(rule => {\n\t\t\tif (rule.loaders) {\n\t\t\t\trule.use = rule.loaders.map(loader => ({ loader }));\n\t\t\t\tdelete rule.loaders;\n\t\t\t}\n\t\t\trule.use.push(ldr)\n\t\t});\n\n\t\t// vue loader\n\t\tconst rule = config.module.rules.find(rule => (rule.test instanceof RegExp && rule.test.test('asdf.vue')));\n\t\t['sass', 'scss'].forEach(st => {\n\t\t\tif (!rule.options.loaders[st])\n\t\t\t\trule.options.loaders[st] = ['style-loader', 'css-loader', 'sass-loader', ldr];\n\t\t\telse rule.options.loaders[st].push(ldr);\n\t\t});\n\t}\n}();\n\nmix.extend('sassResources', ext);"]}